<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>koued - Réseau Social</title>
  <!-- Fonts et icônes -->
  <link href="https://fonts.googleapis.com/css?family=Sacramento|Roboto:400,500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" 
        integrity="sha512-p1Cm63n2HcKqS/x5uR+f7JZqk2j/BlS8vyaE3qbjUWevz9uxOfHHzvdEYIAt8qB5hbdeN8Se4yKU3rG+EPh9hQ==" 
        crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    /* Variables de thème */
    :root {
      --bg-color: #121212;
      --light-bg: #1f1f1f;
      --accent-color: #3897f0;
      --text-color: #e0e0e0;
      --secondary-text: #a0a0a0;
      --border-color: #333;
    }
    /* Styles globaux */
    body {
      background: var(--bg-color);
      color: var(--text-color);
      font-family: 'Roboto', sans-serif;
      margin: 0;
      padding: 0;
      line-height: 1.6;
    }
    /* En-tête */
    header {
      background: var(--light-bg);
      border-bottom: 1px solid var(--border-color);
      padding: 10px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 1000;
      box-shadow: 0 2px 5px rgba(0,0,0,0.5);
    }
    header .logo {
      font-family: 'Sacramento', cursive;
      font-size: 36px;
      color: var(--accent-color);
    }
    header .search {
      border: none;
      border-radius: 20px;
      padding: 8px 15px;
      background-color: var(--bg-color);
      color: var(--text-color);
      width: 250px;
      transition: width 0.3s ease;
    }
    header .search:focus {
      outline: none;
      width: 300px;
    }
    header .search::placeholder {
      color: var(--secondary-text);
    }
    .nav-icons {
      display: flex;
      gap: 20px;
      align-items: center;
    }
    .nav-icons a {
      text-decoration: none;
      color: var(--text-color);
      transition: transform 0.2s ease;
    }
    .nav-icons a:hover {
      transform: scale(1.1);
    }
    /* Contenu principal */
    main {
      margin-top: 80px;
      max-width: 1000px;
      margin-left: auto;
      margin-right: auto;
      padding: 20px;
    }
    .feed {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }
    .post {
      background: var(--light-bg);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .post:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    }
    .post-header {
      display: flex;
      align-items: center;
      padding: 10px;
      background: var(--bg-color);
    }
    .post-header img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      margin-right: 10px;
      object-fit: cover;
    }
    .post-header strong {
      color: var(--text-color);
      font-size: 16px;
    }
    .post-content img {
      width: 100%;
      display: block;
    }
    .post-content p {
      padding: 10px;
      font-size: 14px;
      color: var(--text-color);
    }
    .post-footer {
      padding: 10px;
      border-top: 1px solid var(--border-color);
      text-align: right;
    }
    .post-footer small {
      color: var(--secondary-text);
      font-size: 12px;
    }
    /* Pied de page */
    footer {
      text-align: center;
      font-size: 12px;
      color: var(--secondary-text);
      padding: 20px;
      margin-top: 40px;
      border-top: 1px solid var(--border-color);
    }
    /* Ajustements responsives */
    @media (max-width: 600px) {
      header .search {
        width: 180px;
      }
      header .logo {
        font-size: 28px;
      }
    }
  </style>
</head>
<body>
  <!-- En-tête -->
  <header>
    <div class="logo">koued</div>
    <input type="text" class="search" placeholder="Recherche">
    <div class="nav-icons">
      <a href="#" title="Accueil">
        <svg aria-label="Accueil" viewBox="0 0 48 48">
          <path d="M45.5 48H2.5C1.1 48 0 46.9 0 45.5V2.5C0 1.1 1.1 0 2.5 0h15c1.4 0 2.5 1.1 2.5 2.5V9h12V2.5C34.5 1.1 35.6 0 37 0h15c1.4 0 2.5 1.1 2.5 2.5v43C52 46.9 50.9 48 49.5 48z"/>
        </svg>
      </a>
      <a href="{{ url_for('messages') }}" title="Messages">
        <svg aria-label="Messages" viewBox="0 0 24 24" width="24" height="24">
          <path d="M19.005 3.175H4.674C3.642 3.175 3 3.789 3 4.821V21.02l3.544-3.514h12.461c1.033 0 2.064-1.06 2.064-2.093V4.821c-.001-1.032-1.032-1.646-2.064-1.646Zm-4.989 9.869H7.041V11.1h6.975v1.944Zm3-4H7.041V7.1h9.975v1.944Z" 
                fill="none" 
                stroke="currentColor" 
                stroke-width="1.5"
                stroke-linecap="round" 
                stroke-linejoin="round"/>
        </svg>
      </a>
      <a href="#" title="Explorer">
        <svg aria-label="Explorer" viewBox="0 0 48 48">
          <path d="M47.9 19.4a1.1 1.1 0 0 0-.3-.8 17 17 0 0 0-4.7-4.7 1.1 1.1 0 0 0-.8-.3H6.9a1.1 1.1 0 0 0-.8.3A17 17 0 0 0 1.4 18.6a1.1 1.1 0 0 0-.3.8v8.4a1.1 1.1 0 0 0 .3.8 17 17 0 0 0 4.7 4.7 1.1 1.1 0 0 0 .8.3h30.2a1.1 1.1 0 0 0 .8-.3 17 17 0 0 0 4.7-4.7 1.1 1.1 0 0 0 .3-.8zM24 31a7 7 0 1 1 7-7 7 7 0 0 1-7 7z"/>
        </svg>
      </a>
      <a href="#" title="Notifications">
        <svg aria-label="Notifications" viewBox="0 0 48 48">
          <path d="M34.3 6.3c-4.5 0-8.2 2.4-10.3 6a11.3 11.3 0 0 0-10.3-6C4.5 6.3 0 10.9 0 17.3c0 6.1 5.6 11.1 14.1 19.4l3.9 3.5c.3.3.8.3 1.1 0l3.9-3.5C42.4 28.4 48 23.4 48 17.3c0-6.4-4.5-11-9.7-11z"/>
        </svg>
      </a>
      <a href="{{ url_for('settings') }}" title="Paramètres">
        <i class="fa-solid fa-gear" style="font-size:24px;"></i>
      </a>
      <a href="#" title="Profil">
        <svg aria-label="Profil" viewBox="0 0 48 48">
          <path d="M24 4.8a9.2 9.2 0 1 0 9.2 9.2A9.2 9.2 0 0 0 24 4.8zm0 15.3a6.1 6.1 0 1 1 6.1-6.1 6.1 6.1 0 0 1-6.1 6.1zm0 8.4c-4.9 0-14.7 2.4-14.7 7.3v3.6a2.4 2.4 0 0 0 2.4 2.4h24.6a2.4 2.4 0 0 0 2.4-2.4v-3.6c0-4.9-9.8-7.3-14.7-7.3z"/>
        </svg>
      </a>
    </div>
  </header>

  <!-- Contenu principal -->
  <main>
    <div class="feed">
      {% for post in posts %}
      <div class="post">
        <div class="post-header">
          <img src="{{ url_for('static', filename=post.author.profile_pic) }}" alt="Profil">
          <strong>{{ post.author.username }}</strong>
        </div>
        <div class="post-content">
          {% if post.image_filename %}
            <img src="{{ url_for('static', filename=post.image_filename) }}" alt="Image du post">
          {% else %}
            <img src="https://source.unsplash.com/random/600x600?sig={{ loop.index }}" alt="Image du post">
          {% endif %}
          <p>{{ post.content }}</p>
        </div>
        <div class="post-footer">
          <small>{{ post.timestamp.strftime('%d/%m/%Y %H:%M') }}</small>
        </div>
      </div>
      {% endfor %}
    </div>
  </main>

  <!-- Pied de page -->
  <footer>
    <p>© 2025 koued daniel - Tous droits réservés</p>
  </footer>
</body>
</html>
